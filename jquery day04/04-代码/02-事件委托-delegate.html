<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    div {
      width: 400px;
      height: 400px;
      background-color: pink;
    }
  </style>
</head>
<body>
  <button>添加一个新p</button>
  <div>
    <p>我是p元素</p>
    <p>我是p元素</p>
    <p>我是p元素</p>
    <p>我是p元素</p>
    <span>我是span</span>
    <span>我是span</span>
    <span>我是span</span>
  </div>

  <script src="./jquery-1.12.4.js"></script>
  <script>
    
    // 这两种绑定方式, 无法直接给动态创建出来的元素 绑定事件
    // $('p').click(function() {
    //   console.log(1111);
    // })

    $('button').click(function() {
      $('<p>我是新建的p元素</p>').appendTo( 'div' );
    });


    // 由于, 有些p元素, 并不是页面中直接存在的, 而是动态创建的
    // 一开始这些p元素, 还没创建出来, 所以事件无法直接绑定上
    // $('p').bind('click', function() {
    //   console.log(2222);
    // });


    // 事件委托, 委托给父辈祖辈元素  (事件冒泡)
    // delegate(选择器, 事件名, 事件处理函数);
    // 参数1: 选择器, 让谁触发这个事件
    // 参数2: 事件名 click
    // 参数3: 触发后执行的函数

    // 事件是绑定给 div 的, 所以里面 this 应该指向 div
    // jquery对 this 进行了处理, 让 this 重新指向了 当前点击的 p
    $('div').delegate('p', 'click', function() {
      console.log(11111);
      console.log(this);
    });


    // 事件委托注意点:  (语法)
    // 1. 给父辈或祖辈绑定(就近)
    // 2. this指向当前点击的元素

    // 事件委托的优点:
    // 1. 可以给动态创建出来的元素绑定事件
    // 2. 可以批量绑定事件 (性能极高)

    // 事件委托的原理: 事件冒泡

  
  </script>
  
</body>
</html>